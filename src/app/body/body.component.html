<div>
  <table class="table small">
    <thead class="thead-dark">
      <tr>
        <th scope="col">Codigo</th>
        <th scope="col">Nombre</th>
        <th scope="col">Categoria</th>
        <th scope="col">Precio</th>
        <th scope="col">Creado</th>
        <th scope="col">Actualizado</th>
        <th scope="col">Acciones</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let descripcions of categories, let i = index">
        <th scope="row">{{idImport[i]}}</th>
        <td>{{names[i]}}</td>
        <td>{{categories[i]}}</td>
        <td>{{prices[i]}}</td>
        <td>{{createds[i]}}</td>
        <td>{{updates[i]}}</td>
        <td>
          <button type="button" class="btn btn-primary btnActions1" data-bs-toggle="modal" data-bs-target="#Modaledit"
            (click)="sendCode(idImport[i])"><i class="bi bi-pencil-square"></i></button>
          <button type="button" class="btn btn-danger btnActions2" data-bs-toggle="modal" data-bs-target="#Modaldelete"
            (click)="sendCodeDelete(idImport[i])"><i class="bi bi-trash3"></i></button>
        </td>
      </tr>
    </tbody>
  </table>

  <button type="button" class="btn btn-success" data-bs-toggle="modal" data-bs-target="#ModalMessage">Registrar
    Producto</button>

</div>


<!--Modal para registro de productos-->
<div class="modal fade" id="ModalMessage" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
  aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Registrar nuevo producto</h5>
      </div>

      <div class="modal-body">
        <form [formGroup]="formmessage" (submit)="submitdata()" id="formmessage" name="formmessage">

          <div class="mb-3">
            <label>Nombre</label>
            <input type="text" formControlName="fulname" class="form-control transpaternts" autocomplete="off">
          </div>
          <div class="mb-3">
            <label>Categoria</label><br>
            <select  [(ngModel)]="selectedCategory" [ngModelOptions]="{standalone: true}">
              <option *ngFor="let descripcions of categoriesBD, let i = index" value={{categoriesBD[i]}}>{{categoriesBD[i]}}</option>
              
            </select>
          </div>
          <div class="mb-3">
            <label>Precio</label>
            <input type="text" formControlName="fulprice" class="form-control transpaternts" autocomplete="off">
          </div>

        </form>
      </div>

      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
        <button type="submit" form="formmessage" class="btn btn-primary" data-bs-dismiss="modal"
          [disabled]="!formmessage.valid">Registrar</button>
      </div>

    </div>
  </div>
</div>


<!--Modal para editar productos-->
<div class="modal fade" id="Modaledit" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
  aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Editar producto</h5>
      </div>

      <div class="modal-body">
        <form (submit)="submitDataEdit()" id="formmessage1" name="formmessage1">

          <div class="mb-3">
            <label>Nombre</label>
            <input type="text" [(ngModel)]="nameEdit" [ngModelOptions]="{standalone: true}"
              class="form-control transpaternts" autocomplete="off">
          </div>
          <div class="mb-3">
            <label>Categoria</label><br>
            <select  [(ngModel)]="categoryEdit" [ngModelOptions]="{standalone: true}">
              <option *ngFor="let descripcions of categoriesBD, let i = index" value={{categoriesBD[i]}}>{{categoriesBD[i]}}</option>
              
            </select>
          </div>
          <div class="mb-3">
            <label>Precio</label>
            <input type="text" [(ngModel)]="priceEdit" [ngModelOptions]="{standalone: true}"
              class="form-control transpaternts" autocomplete="off">
          </div>

          <div class="mb-3">
            <input [hidden]="true" type="hidden" />
          </div>

        </form>
      </div>

      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
        <button type="submit" form="formmessage1" class="btn btn-primary" data-bs-dismiss="modal">Guardar</button>
      </div>

    </div>
  </div>
</div>

<!--Modal para eliminar productos-->
<div class="modal fade" id="Modaldelete" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
  aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Â¿ Esta seguro de eliminar este producto ?</h5>
      </div>

      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
        <button type="submit" (click)="deleteData()" class="btn btn-danger" data-bs-dismiss="modal">Eliminar</button>
      </div>

    </div>
  </div>
</div>